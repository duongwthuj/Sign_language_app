# Cáº¤U TRÃšC VÃ€ LUá»’NG HOáº T Äá»˜NG Cá»¦A á»¨NG Dá»¤NG SIGN LANGUAGE APP

## ğŸ“‹ Má»¤C Lá»¤C
1. [Khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng](#1-khá»Ÿi-Ä‘á»™ng-á»©ng-dá»¥ng)
2. [Chá»©c nÄƒng Authentication (XÃ¡c thá»±c)](#2-chá»©c-nÄƒng-authentication-xÃ¡c-thá»±c)
3. [Chá»©c nÄƒng Speech-to-Text (Nháº­n dáº¡ng giá»ng nÃ³i)](#3-chá»©c-nÄƒng-speech-to-text-nháº­n-dáº¡ng-giá»ng-nÃ³i)
4. [Home Screen (MÃ n hÃ¬nh chÃ­nh)](#4-home-screen-mÃ n-hÃ¬nh-chÃ­nh)
5. [SÆ¡ Ä‘á»“ tá»•ng quan](#5-sÆ¡-Ä‘á»“-tá»•ng-quan)

---

## 1. KHá»I Äá»˜NG á»¨NG Dá»¤NG

### ğŸ“ File: `lib/main.dart`

### Luá»“ng khá»Ÿi Ä‘á»™ng:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. main() - Entry Point                                     â”‚
â”‚    File: lib/main.dart:15                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. WidgetsFlutterBinding.ensureInitialized()                â”‚
â”‚    - Khá»Ÿi táº¡o Flutter framework                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Firebase.initializeApp()                                 â”‚
â”‚    - Khá»Ÿi táº¡o Firebase vá»›i cáº¥u hÃ¬nh tá»« firebase_options.dartâ”‚
â”‚    File: lib/firebase_options.dart                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. runApp(MyApp())                                          â”‚
â”‚    - Cháº¡y á»©ng dá»¥ng Flutter                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. MyApp.build() - XÃ¢y dá»±ng widget tree                     â”‚
â”‚    File: lib/main.dart:27                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. MultiBlocProvider - Táº¡o global Cubits                    â”‚
â”‚    - AuthCubit (quáº£n lÃ½ xÃ¡c thá»±c)                           â”‚
â”‚    - SpeechRecognitionCubit (quáº£n lÃ½ nháº­n dáº¡ng giá»ng nÃ³i)   â”‚
â”‚    File: lib/main.dart:28-40                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. AuthCubit.checkAuth()                                    â”‚
â”‚    - Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘Äƒng nháº­p                          â”‚
â”‚    File: lib/features/auth/presentation/cubits/             â”‚
â”‚          auth_cubit.dart:16                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. BlocConsumer<AuthCubit, AuthState>                       â”‚
â”‚    - Láº¯ng nghe tráº¡ng thÃ¡i auth vÃ  render UI                 â”‚
â”‚    File: lib/main.dart:47-64                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
         â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authenticated   â”‚  â”‚ Unauthenticated â”‚
â”‚ â†’ HomeScreen    â”‚  â”‚ â†’ AuthScreen    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Code flow chi tiáº¿t:

```dart
// 1. main.dart:15-19
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
  runApp(MyApp());
}

// 2. main.dart:24
final firebaseAuthRepo = FirebaseAuthRepo();  // Táº¡o repository

// 3. main.dart:30-33
BlocProvider<AuthCubit>(
  create: (context) => AuthCubit(authRepo: firebaseAuthRepo)..checkAuth(),
  // ..checkAuth() Ä‘Æ°á»£c gá»i ngay khi AuthCubit Ä‘Æ°á»£c táº¡o
),

// 4. main.dart:47-56
home: BlocConsumer<AuthCubit, AuthState>(
  builder: (context, state) {
    if (state is Unauthenticated) {
      return const AuthScreen();      // â†’ Äáº¿n mÃ n hÃ¬nh Ä‘Äƒng nháº­p
    }
    if (state is Authenticated) {
      return const HomeScreen();      // â†’ Äáº¿n mÃ n hÃ¬nh chÃ­nh
    } else {
      return const Center(child: CircularProgressIndicator()); // Loading
    }
  },
)
```

---

## 2. CHá»¨C NÄ‚NG AUTHENTICATION (XÃC THá»°C)

### Kiáº¿n trÃºc Clean Architecture:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ LoginScreen  â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚     AuthCubit          â”‚    â”‚
â”‚  â”‚ (UI)         â”‚         â”‚  (State Management)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                        â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ emit states
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DOMAIN LAYER       â”‚                  â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                              â”‚    AuthRepo        â”‚       â”‚
â”‚                              â”‚  (Interface)       â”‚       â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ implements
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER        â”‚                  â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                         â”‚  FirebaseAuthRepo            â”‚  â”‚
â”‚                         â”‚  (Implementation)            â”‚  â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  FirebaseAuth   â”‚
                            â”‚  (External SDK) â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.1. ÄÄ‚NG NHáº¬P (Login)

#### Luá»“ng tá»« UI Ä‘áº¿n Firebase:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. User nháº­p email & password                                â”‚
â”‚    File: lib/features/auth/presentation/pages/               â”‚
â”‚          login_page.dart:244-259                             â”‚
â”‚    - MyTextfield(controller: emailController)                â”‚
â”‚    - MyTextfield(controller: pwController)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. User nháº¥n nÃºt "LOGIN"                                     â”‚
â”‚    File: login_page.dart:290                                 â”‚
â”‚    - MyButton(onTap: login, text: "LOGIN")                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. login() method Ä‘Æ°á»£c gá»i                                   â”‚
â”‚    File: login_page.dart:39-58                               â”‚
â”‚                                                               â”‚
â”‚    void login() {                                            â”‚
â”‚      final String email = emailController.text.trim();       â”‚
â”‚      final String pw = pwController.text;                    â”‚
â”‚                                                               â”‚
â”‚      // Validation                                           â”‚
â”‚      if (email.isEmpty || pw.isEmpty) {                      â”‚
â”‚        // Show error snackbar                                â”‚
â”‚        return;                                               â”‚
â”‚      }                                                        â”‚
â”‚                                                               â”‚
â”‚      authCubit.login(email, pw);  // â† Gá»i Cubit            â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. AuthCubit.login() Ä‘Æ°á»£c gá»i                                â”‚
â”‚    File: lib/features/auth/presentation/cubits/              â”‚
â”‚          auth_cubit.dart:37-52                               â”‚
â”‚                                                               â”‚
â”‚    Future<void> login(String email, String pw) async {       â”‚
â”‚      try {                                                   â”‚
â”‚        emit(AuthLoading());  // â† Emit loading state         â”‚
â”‚                                                               â”‚
â”‚        final user = await authRepo.loginWithEmailPassword(   â”‚
â”‚          email, pw  // â† Gá»i repository                      â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        if (user != null) {                                   â”‚
â”‚          _currentUser = user;                                â”‚
â”‚          emit(Authenticated(user));  // â† Emit success       â”‚
â”‚        } else {                                              â”‚
â”‚          emit(Unauthenticated());                            â”‚
â”‚        }                                                      â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        emit(AuthError(e.toString()));  // â† Emit error       â”‚
â”‚        emit(Unauthenticated());                              â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. FirebaseAuthRepo.loginWithEmailPassword()                 â”‚
â”‚    File: lib/features/auth/data/                             â”‚
â”‚          firebase_auth_repo.dart:13-33                       â”‚
â”‚                                                               â”‚
â”‚    Future<AppUser?> loginWithEmailPassword(                  â”‚
â”‚      String email, String password                           â”‚
â”‚    ) async {                                                 â”‚
â”‚      try {                                                   â”‚
â”‚        // Gá»i Firebase Auth SDK                              â”‚
â”‚        UserCredential userCredential =                       â”‚
â”‚          await firebaseAuth.signInWithEmailAndPassword(      â”‚
â”‚            email: email,                                     â”‚
â”‚            password: password                                â”‚
â”‚          );                                                   â”‚
â”‚                                                               â”‚
â”‚        // Táº¡o AppUser entity                                 â”‚
â”‚        AppUser user = AppUser(                               â”‚
â”‚          uid: userCredential.user!.uid,                      â”‚
â”‚          email: email,                                       â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        return user;  // â† Tráº£ vá» user                        â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        throw Exception('Login failed: $e');                  â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Firebase Authentication Service                           â”‚
â”‚    - XÃ¡c thá»±c email & password                               â”‚
â”‚    - Tráº£ vá» UserCredential                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. AuthCubit emit Authenticated(user)                        â”‚
â”‚    - State Ä‘Æ°á»£c cáº­p nháº­t                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. BlocConsumer láº¯ng nghe state change                       â”‚
â”‚    File: lib/main.dart:47-56                                 â”‚
â”‚                                                               â”‚
â”‚    builder: (context, state) {                               â”‚
â”‚      if (state is Authenticated) {                           â”‚
â”‚        return const HomeScreen();  // â† Navigate to Home     â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2. ÄÄ‚NG KÃ (Register)

Luá»“ng tÆ°Æ¡ng tá»± nhÆ° Login, nhÆ°ng:

```
User nháº­p: Name, Email, Password, Confirm Password
    â”‚
    â–¼
register_page.dart â†’ validate inputs
    â”‚
    â–¼
AuthCubit.register(name, email, pw)  [auth_cubit.dart:55]
    â”‚
    â–¼
FirebaseAuthRepo.registerWithEmailPassword()  [firebase_auth_repo.dart:37]
    â”‚
    â–¼
firebaseAuth.createUserWithEmailAndPassword()
    â”‚
    â–¼
emit Authenticated(user)
    â”‚
    â–¼
Navigate to HomeScreen
```

### 2.3. QUÃŠN Máº¬T KHáº¨U (Forgot Password)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. User nháº¥n "Forgot Password?"                              â”‚
â”‚    File: login_page.dart:268                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. openForgotPasswordBox() Ä‘Æ°á»£c gá»i                          â”‚
â”‚    File: login_page.dart:61-199                              â”‚
â”‚    - Hiá»ƒn thá»‹ Dialog vá»›i TextField nháº­p email                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. User nháº­p email vÃ  nháº¥n "Send Link"                       â”‚
â”‚    File: login_page.dart:138-190                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. authCubit.forgotPassword(email)                           â”‚
â”‚    File: auth_cubit.dart:80-87                               â”‚
â”‚                                                               â”‚
â”‚    Future<String> forgotPassword(String email) async {       â”‚
â”‚      try {                                                   â”‚
â”‚        final message = await authRepo.sendPasswordResetEmail(â”‚
â”‚          email                                               â”‚
â”‚        );                                                     â”‚
â”‚        return message;                                       â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        return e.toString();                                  â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. FirebaseAuthRepo.sendPasswordResetEmail()                 â”‚
â”‚    File: firebase_auth_repo.dart:98-105                      â”‚
â”‚                                                               â”‚
â”‚    await firebaseAuth.sendPasswordResetEmail(email: email);  â”‚
â”‚    return "Password reset email sent! Check your inbox";    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Firebase gá»­i email reset password                         â”‚
â”‚    - User nháº­n email vá»›i link reset                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Hiá»ƒn thá»‹ SnackBar thÃ´ng bÃ¡o káº¿t quáº£                       â”‚
â”‚    File: login_page.dart:161-172 (success)                   â”‚
â”‚          login_page.dart:174-186 (error)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4. ÄÄ‚NG XUáº¤T (Logout)

```
HomeScreen â†’ User nháº¥n nÃºt Logout (AppBar)
    â”‚
    â–¼
AuthCubit.logout()  [auth_cubit.dart:73]
    â”‚
    â–¼
emit AuthLoading()
    â”‚
    â–¼
FirebaseAuthRepo.logout()  [firebase_auth_repo.dart:92]
    â”‚
    â–¼
firebaseAuth.signOut()
    â”‚
    â–¼
emit Unauthenticated()
    â”‚
    â–¼
BlocConsumer láº¯ng nghe â†’ Navigate to AuthScreen
```

### 2.5. AUTH STATES (CÃ¡c tráº¡ng thÃ¡i)

```dart
// File: lib/features/auth/presentation/cubits/auth_states.dart

sealed class AuthState {}

class AuthInitial extends AuthState {}        // Khá»Ÿi táº¡o

class AuthLoading extends AuthState {}        // Äang xá»­ lÃ½

class Authenticated extends AuthState {       // ÄÃ£ Ä‘Äƒng nháº­p
  final AppUser user;
  Authenticated(this.user);
}

class Unauthenticated extends AuthState {}    // ChÆ°a Ä‘Äƒng nháº­p

class AuthError extends AuthState {           // Lá»—i xáº£y ra
  final String message;
  AuthError(this.message);
}
```

---

## 3. CHá»¨C NÄ‚NG SPEECH-TO-TEXT (NHáº¬N Dáº NG GIá»ŒNG NÃ“I)

### Kiáº¿n trÃºc:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SpeechRecognitionPage  â”‚â”€â”€â”€>â”‚ SpeechRecognitionCubit  â”‚  â”‚
â”‚  â”‚ (UI)                   â”‚    â”‚ (State Management)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DOMAIN LAYER            â”‚                 â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                        â”‚ SpeechRecognitionRepo             â”‚  â”‚
â”‚                        â”‚ (Interface)                       â”‚  â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER             â”‚                 â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                    â”‚ SpeechRecognitionRepoImpl             â”‚  â”‚
â”‚                    â”‚ (Implementation)                      â”‚  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  SpeechToText SDK  â”‚
                              â”‚  (speech_to_text)  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1. KHá»I Táº O SPEECH RECOGNITION

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. User má»Ÿ SpeechRecognitionPage tá»« HomeScreen              â”‚
â”‚    File: lib/features/home/presentation/pages/              â”‚
â”‚          home_page.dart:95-100                               â”‚
â”‚                                                               â”‚
â”‚    Navigator.push(context, MaterialPageRoute(                â”‚
â”‚      builder: (context) => const SpeechRecognitionPage()     â”‚
â”‚    ));                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. SpeechRecognitionPage.initState()                         â”‚
â”‚    File: lib/features/speech_to_text/presentation/pages/     â”‚
â”‚          speech_recognition_page.dart:22-26                  â”‚
â”‚                                                               â”‚
â”‚    @override                                                 â”‚
â”‚    void initState() {                                        â”‚
â”‚      super.initState();                                      â”‚
â”‚      _speechCubit = context.read<SpeechRecognitionCubit>();  â”‚
â”‚      _initializeSpeech();  // â† Gá»i initialization           â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. _initializeSpeech()                                       â”‚
â”‚    File: speech_recognition_page.dart:28-41                  â”‚
â”‚                                                               â”‚
â”‚    Future<void> _initializeSpeech() async {                  â”‚
â”‚      // 3.1. YÃªu cáº§u quyá»n microphone                        â”‚
â”‚      final status = await Permission.microphone.request();   â”‚
â”‚                                                               â”‚
â”‚      if (status.isDenied) {                                  â”‚
â”‚        _showPermissionDeniedDialog();  // Hiá»ƒn thá»‹ dialog    â”‚
â”‚        return;                                               â”‚
â”‚      }                                                        â”‚
â”‚                                                               â”‚
â”‚      // 3.2. Khá»Ÿi táº¡o speech engine                          â”‚
â”‚      _speechCubit.initialize();                              â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. SpeechRecognitionCubit.initialize()                       â”‚
â”‚    File: lib/features/speech_to_text/presentation/cubits/    â”‚
â”‚          speech_recognition_cubit.dart:20-38                 â”‚
â”‚                                                               â”‚
â”‚    Future<void> initialize() async {                         â”‚
â”‚      emit(SpeechRecognitionLoading());  // â† Loading state   â”‚
â”‚                                                               â”‚
â”‚      try {                                                   â”‚
â”‚        await speechRepo.initialize();  // â† Gá»i repo         â”‚
â”‚                                                               â”‚
â”‚        final available = await speechRepo.isAvailable();     â”‚
â”‚                                                               â”‚
â”‚        if (!available) {                                     â”‚
â”‚          emit(SpeechRecognitionNotAvailable(...));           â”‚
â”‚        } else {                                              â”‚
â”‚          emit(SpeechRecognitionInitial());  // â† Ready       â”‚
â”‚        }                                                      â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        emit(SpeechRecognitionError(...));                    â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. SpeechRecognitionRepoImpl.initialize()                    â”‚
â”‚    File: lib/features/speech_to_text/data/                   â”‚
â”‚          speech_recognition_repo_impl.dart:35-83             â”‚
â”‚                                                               â”‚
â”‚    Future<void> initialize() async {                         â”‚
â”‚      try {                                                   â”‚
â”‚        // 5.1. Kiá»ƒm tra Ä‘Ã£ khá»Ÿi táº¡o chÆ°a                     â”‚
â”‚        if (_isInitialized) return;                           â”‚
â”‚                                                               â”‚
â”‚        // 5.2. Khá»Ÿi táº¡o SpeechToText SDK                     â”‚
â”‚        bool available = await _speechToText.initialize(      â”‚
â”‚          onError: (error) {                                  â”‚
â”‚            print('Speech to text error: $error');            â”‚
â”‚          },                                                   â”‚
â”‚          onStatus: (status) {                                â”‚
â”‚            print('Speech to text status: $status');          â”‚
â”‚          },                                                   â”‚
â”‚          debugLogging: true,                                 â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        if (!available) {                                     â”‚
â”‚          throw Exception('Speech recognition not available');â”‚
â”‚        }                                                      â”‚
â”‚                                                               â”‚
â”‚        _isInitialized = true;                                â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        throw Exception('Failed to initialize: $e');          â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. UI hiá»ƒn thá»‹ SpeechRecognitionInitial state                â”‚
â”‚    - Microphone button sáºµn sÃ ng                              â”‚
â”‚    - User cÃ³ thá»ƒ báº¯t Ä‘áº§u ghi Ã¢m                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2. Báº®T Äáº¦U GHI Ã‚M VÃ€ NHáº¬N Dáº NG

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. User nháº¥n MicrophoneButton                                â”‚
â”‚    File: lib/features/speech_to_text/presentation/pages/     â”‚
â”‚          components/microphone_button.dart                   â”‚
â”‚    - Widget: MicrophoneButton                                â”‚
â”‚    - onTap callback Ä‘Æ°á»£c trigger                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. _speechCubit.startListening() Ä‘Æ°á»£c gá»i                    â”‚
â”‚    File: speech_recognition_cubit.dart:66-97                 â”‚
â”‚                                                               â”‚
â”‚    Future<void> startListening() async {                     â”‚
â”‚      try {                                                   â”‚
â”‚        emit(SpeechRecognitionLoading());                     â”‚
â”‚                                                               â”‚
â”‚        // 2.1. Há»§y stream cÅ© náº¿u cÃ³                          â”‚
â”‚        await _subscription?.cancel();                        â”‚
â”‚        _subscription = null;                                 â”‚
â”‚                                                               â”‚
â”‚        // 2.2. Láº¯ng nghe stream má»›i                          â”‚
â”‚        _subscription = speechRepo.speechResultStream.listen( â”‚
â”‚          (result) {                                          â”‚
â”‚            _lastResult = result;                             â”‚
â”‚                                                               â”‚
â”‚            if (result.isFinal) {                             â”‚
â”‚              emit(SpeechRecognitionSuccess(result));         â”‚
â”‚            } else {                                          â”‚
â”‚              emit(SpeechRecognitionListening(              â”‚
â”‚                partialResult: result                         â”‚
â”‚              ));                                             â”‚
â”‚            }                                                  â”‚
â”‚          },                                                   â”‚
â”‚          onError: (e) {                                      â”‚
â”‚            emit(SpeechRecognitionError('Stream error: $e')); â”‚
â”‚          }                                                    â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        // 2.3. Báº¯t Ä‘áº§u listening                             â”‚
â”‚        await speechRepo.startListening(                      â”‚
â”‚          language: _selectedLanguage  // Default: 'vi_VN'    â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        emit(SpeechRecognitionListening());                   â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        emit(SpeechRecognitionError(...));                    â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. SpeechRecognitionRepoImpl.startListening()                â”‚
â”‚    File: speech_recognition_repo_impl.dart:112-169           â”‚
â”‚                                                               â”‚
â”‚    Future<void> startListening({                             â”‚
â”‚      String language = 'en_US',                              â”‚
â”‚      Duration timeout = const Duration(seconds: 30),         â”‚
â”‚    }) async {                                                â”‚
â”‚      try {                                                   â”‚
â”‚        // 3.1. Kiá»ƒm tra vÃ  khá»Ÿi táº¡o náº¿u cáº§n                  â”‚
â”‚        if (!_isInitialized) {                                â”‚
â”‚          await initialize();                                 â”‚
â”‚        }                                                      â”‚
â”‚                                                               â”‚
â”‚        // 3.2. Dá»«ng listening cÅ© náº¿u Ä‘ang cháº¡y               â”‚
â”‚        if (_isListening) {                                   â”‚
â”‚          await stopListening();                              â”‚
â”‚        }                                                      â”‚
â”‚                                                               â”‚
â”‚        // 3.3. Clear results vÃ  set flags                    â”‚
â”‚        _results.clear();                                     â”‚
â”‚        _isListening = true;                                  â”‚
â”‚        _isListeningStreamController.add(true);               â”‚
â”‚        _startTime = DateTime.now();                          â”‚
â”‚                                                               â”‚
â”‚        // 3.4. Báº¯t Ä‘áº§u listening vá»›i SpeechToText SDK        â”‚
â”‚        await _speechToText.listen(                           â”‚
â”‚          onResult: (result) {                                â”‚
â”‚            // 3.4.1. TÃ­nh duration                           â”‚
â”‚            final duration = DateTime.now().difference(       â”‚
â”‚              _startTime!                                     â”‚
â”‚            );                                                 â”‚
â”‚                                                               â”‚
â”‚            // 3.4.2. Táº¡o SpeechResult entity                 â”‚
â”‚            final speechResult = SpeechResult(                â”‚
â”‚              text: result.recognizedWords,                   â”‚
â”‚              isFinal: result.finalResult,                    â”‚
â”‚              confidence: result.confidence,                  â”‚
â”‚              duration: duration,                             â”‚
â”‚              language: language,                             â”‚
â”‚            );                                                 â”‚
â”‚                                                               â”‚
â”‚            // 3.4.3. LÆ°u result                              â”‚
â”‚            _results.add(speechResult);                       â”‚
â”‚                                                               â”‚
â”‚            // 3.4.4. Emit qua stream                         â”‚
â”‚            _speechResultStreamController.add(speechResult);  â”‚
â”‚          },                                                   â”‚
â”‚          localeId: language,                                 â”‚
â”‚          listenFor: timeout,                                 â”‚
â”‚        );                                                     â”‚
â”‚      } catch (e) {                                           â”‚
â”‚        throw Exception('Failed to start listening: $e');     â”‚
â”‚      }                                                        â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. SpeechToText SDK báº¯t Ä‘áº§u nháº­n dáº¡ng                        â”‚
â”‚    - Láº¯ng nghe microphone                                    â”‚
â”‚    - Stream audio data                                       â”‚
â”‚    - Gá»­i lÃªn cloud/local processing                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Real-time stream)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. onResult callback Ä‘Æ°á»£c gá»i liÃªn tá»¥c                       â”‚
â”‚    - Partial results (isFinal = false): Káº¿t quáº£ táº¡m thá»i     â”‚
â”‚    - Final result (isFinal = true): Káº¿t quáº£ cuá»‘i cÃ¹ng        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Stream emits SpeechResult                                 â”‚
â”‚    speechRepo.speechResultStream.add(speechResult)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. SpeechRecognitionCubit láº¯ng nghe stream                   â”‚
â”‚    _subscription.listen((result) { ... })                    â”‚
â”‚                                                               â”‚
â”‚    if (result.isFinal) {                                     â”‚
â”‚      emit(SpeechRecognitionSuccess(result));  â† Final        â”‚
â”‚    } else {                                                  â”‚
â”‚      emit(SpeechRecognitionListening(        â† Partial       â”‚
â”‚        partialResult: result                                 â”‚
â”‚      ));                                                      â”‚
â”‚    }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. UI cáº­p nháº­t theo state                                    â”‚
â”‚    File: speech_recognition_page.dart:109-126                â”‚
â”‚                                                               â”‚
â”‚    BlocListener<SpeechRecognitionCubit, State>(              â”‚
â”‚      listener: (context, state) {                            â”‚
â”‚        if (state is SpeechRecognitionSuccess) {              â”‚
â”‚          // Auto-navigate to result page                     â”‚
â”‚          Navigator.push(context, MaterialPageRoute(          â”‚
â”‚            builder: (context) => SpeechResultViewPage(       â”‚
â”‚              result: state.result,                           â”‚
â”‚            )                                                  â”‚
â”‚          ));                                                  â”‚
â”‚        }                                                      â”‚
â”‚      }                                                        â”‚
â”‚    )                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. SpeechResultViewPage hiá»ƒn thá»‹ káº¿t quáº£                     â”‚
â”‚    File: lib/features/speech_to_text/presentation/pages/     â”‚
â”‚          speech_result_view_page.dart                        â”‚
â”‚                                                               â”‚
â”‚    - Hiá»ƒn thá»‹ text Ä‘Ã£ nháº­n dáº¡ng                              â”‚
â”‚    - Confidence score                                        â”‚
â”‚    - Duration                                                â”‚
â”‚    - Language                                                â”‚
â”‚    - Action buttons (Copy, Share, Sign Language, Retry)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3. DATA FLOW - SPEECH RESULT

```
SpeechResult Entity:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ class SpeechResult {                                         â”‚
â”‚   final String text;           // Text Ä‘Ã£ nháº­n dáº¡ng          â”‚
â”‚   final bool isFinal;          // True náº¿u káº¿t quáº£ cuá»‘i cÃ¹ng â”‚
â”‚   final double confidence;     // Äá»™ tin cáº­y (0.0 - 1.0)     â”‚
â”‚   final Duration duration;     // Thá»i lÆ°á»£ng ghi Ã¢m          â”‚
â”‚   final String language;       // NgÃ´n ngá»¯ (vi_VN, en_US)    â”‚
â”‚ }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Timeline:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ t=0s    User nháº¥n mic                                       â”‚
â”‚ t=0.5s  Partial: "xin"        (isFinal: false, conf: 0.6)  â”‚
â”‚ t=1.0s  Partial: "xin chÃ o"   (isFinal: false, conf: 0.7)  â”‚
â”‚ t=2.0s  Final:   "xin chÃ o"   (isFinal: true,  conf: 0.95) â”‚
â”‚         â†“                                                   â”‚
â”‚         Navigate to SpeechResultViewPage                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4. SPEECH STATES

```dart
// File: lib/features/speech_to_text/presentation/cubits/
//       speech_recognition_state.dart

sealed class SpeechRecognitionState {}

class SpeechRecognitionInitial extends SpeechRecognitionState {}
// â†’ Sáºµn sÃ ng, chÆ°a báº¯t Ä‘áº§u

class SpeechRecognitionLoading extends SpeechRecognitionState {}
// â†’ Äang khá»Ÿi táº¡o hoáº·c processing

class SpeechRecognitionListening extends SpeechRecognitionState {
  final SpeechResult? partialResult;  // Káº¿t quáº£ táº¡m thá»i
  // â†’ Äang láº¯ng nghe vÃ  nháº­n dáº¡ng
}

class SpeechRecognitionSuccess extends SpeechRecognitionState {
  final SpeechResult result;  // Káº¿t quáº£ cuá»‘i cÃ¹ng
  // â†’ Nháº­n dáº¡ng thÃ nh cÃ´ng
}

class SpeechRecognitionError extends SpeechRecognitionState {
  final String message;
  // â†’ CÃ³ lá»—i xáº£y ra
}

class SpeechRecognitionNotAvailable extends SpeechRecognitionState {
  final String message;
  // â†’ Thiáº¿t bá»‹ khÃ´ng há»— trá»£
}
```

---

## 4. HOME SCREEN (MÃ€N HÃŒNH CHÃNH)

### File: `lib/features/home/presentation/pages/home_page.dart`

### Cáº¥u trÃºc:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         HomeScreen                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AppBar                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ "Sign Language App"              [Logout Button]       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  Body (SingleChildScrollView)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Welcome Banner (Gradient Container)                    â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ â”‚ "Welcome Back!"                                  â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ "Choose a feature to get started"               â”‚   â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚ "Features" (Title)                                      â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ¤ Speech Recognition                           â”‚    â”‚  â”‚
â”‚  â”‚ â”‚    Convert speech to text using AI         â†’   â”‚    â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚     â†“ onTap                                             â”‚  â”‚
â”‚  â”‚     Navigate to SpeechRecognitionPage                   â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚ â”‚ ğŸŒ Sign Language Dictionary                     â”‚    â”‚  â”‚
â”‚  â”‚ â”‚    Learn sign language gestures            â†’   â”‚    â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚     â†“ onTap                                             â”‚  â”‚
â”‚  â”‚     Show "Coming soon!" SnackBar                        â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ“¹ Video Tutorials                              â”‚    â”‚  â”‚
â”‚  â”‚ â”‚    Watch tutorials on sign language        â†’   â”‚    â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚     â†“ onTap                                             â”‚  â”‚
â”‚  â”‚     Show "Coming soon!" SnackBar                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Navigation Flow:

```
HomeScreen
    â”‚
    â”œâ”€> Logout Button (AppBar:28-34)
    â”‚   â””â”€> context.read<AuthCubit>().logout()
    â”‚       â””â”€> Navigate to AuthScreen
    â”‚
    â”œâ”€> Speech Recognition Card (line:89-102)
    â”‚   â””â”€> Navigator.push(SpeechRecognitionPage)
    â”‚
    â”œâ”€> Sign Language Dictionary Card (line:105-118)
    â”‚   â””â”€> Show SnackBar("Coming soon!")
    â”‚
    â””â”€> Video Tutorials Card (line:120-133)
        â””â”€> Show SnackBar("Coming soon!")
```

---

## 5. SÆ  Äá»’ Tá»”NG QUAN

### 5.1. Application Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MAIN.DART                               â”‚
â”‚                    (Application Entry)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MultiBlocProvider                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      AuthCubit          â”‚  â”‚ SpeechRecognitionCubit   â”‚   â”‚
â”‚  â”‚  (Global State Mgmt)    â”‚  â”‚  (Global State Mgmt)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AuthScreen     â”‚        â”‚   HomeScreen     â”‚
â”‚  (Login/Register)â”‚        â”‚   (Dashboard)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â”‚                           â–¼
         â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚ SpeechRecognitionPageâ”‚
         â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚
         â”‚                             â–¼
         â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚ SpeechResultViewPage â”‚
         â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€> Login Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                             â”‚
                                             â–¼
                                    Navigate to HomeScreen
```

### 5.2. Clean Architecture Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                          â”‚
â”‚  â€¢ Pages (UI Components)                                       â”‚
â”‚  â€¢ Cubits (State Management)                                   â”‚
â”‚  â€¢ States (State Definitions)                                  â”‚
â”‚                                                                â”‚
â”‚  Files:                                                        â”‚
â”‚    - auth/presentation/pages/*.dart                            â”‚
â”‚    - auth/presentation/cubits/*.dart                           â”‚
â”‚    - speech_to_text/presentation/pages/*.dart                  â”‚
â”‚    - speech_to_text/presentation/cubits/*.dart                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ depends on
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DOMAIN LAYER                              â”‚
â”‚  â€¢ Entities (Business Objects)                                 â”‚
â”‚  â€¢ Repository Interfaces (Contracts)                           â”‚
â”‚                                                                â”‚
â”‚  Files:                                                        â”‚
â”‚    - auth/domain/entities/app_user.dart                        â”‚
â”‚    - auth/domain/repos/auth_repo.dart                          â”‚
â”‚    - speech_to_text/domain/entities/speech_result.dart         â”‚
â”‚    - speech_to_text/domain/repos/speech_recognition_repo.dart  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ implemented by
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATA LAYER                               â”‚
â”‚  â€¢ Repository Implementations                                  â”‚
â”‚  â€¢ External API/SDK Integration                                â”‚
â”‚                                                                â”‚
â”‚  Files:                                                        â”‚
â”‚    - auth/data/firebase_auth_repo.dart                         â”‚
â”‚    - speech_to_text/data/speech_recognition_repo_impl.dart     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ uses
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL SERVICES                           â”‚
â”‚  â€¢ Firebase Auth                                               â”‚
â”‚  â€¢ SpeechToText SDK                                            â”‚
â”‚  â€¢ Permission Handler                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3. Complete User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. APP LAUNCH                                                â”‚
â”‚    main() â†’ Initialize Firebase â†’ Create Cubits              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ checkAuth()       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
         â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Unauthenticated  â”‚  â”‚   Authenticated  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚
         â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AuthScreen     â”‚  â”‚   HomeScreen     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Login/Registerâ”‚ â”‚  â”‚ â”‚Feature Cards â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚
         â”‚ Login/Register      â”‚ Tap Feature
         â”‚ Success             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  HomeScreen          â”‚
         â”‚  - Speech Recognitionâ”‚ â”€â”€â”€â”
         â”‚  - Dictionary (TODO) â”‚    â”‚
         â”‚  - Tutorials (TODO)  â”‚    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ SpeechRecognitionPageâ”‚
         â”‚ 1. Request Permissionâ”‚
         â”‚ 2. Initialize Engine â”‚
         â”‚ 3. Show Mic Button   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ User taps Mic
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ startListening()     â”‚
         â”‚ - Stream audio       â”‚
         â”‚ - Real-time results  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ isFinal = true
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ SpeechResultViewPage â”‚
         â”‚ - Show text          â”‚
         â”‚ - Show confidence    â”‚
         â”‚ - Action buttons     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚
         â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry        â”‚      â”‚ Copy/Share   â”‚
â”‚ â†’ Go Back    â”‚      â”‚ â†’ Actions    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. KEY FILES REFERENCE

### Authentication Files:
```
lib/features/auth/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/app_user.dart           â†’ User entity
â”‚   â””â”€â”€ repos/auth_repo.dart             â†’ Repository interface
â”œâ”€â”€ data/
â”‚   â””â”€â”€ firebase_auth_repo.dart          â†’ Firebase implementation
â””â”€â”€ presentation/
    â”œâ”€â”€ cubits/
    â”‚   â”œâ”€â”€ auth_cubit.dart              â†’ State management
    â”‚   â””â”€â”€ auth_states.dart             â†’ State definitions
    â””â”€â”€ pages/
        â”œâ”€â”€ auth_page.dart               â†’ Toggle Login/Register
        â”œâ”€â”€ login_page.dart              â†’ Login UI
        â”œâ”€â”€ register_page.dart           â†’ Register UI
        â””â”€â”€ components/
            â”œâ”€â”€ my_button.dart           â†’ Custom button
            â”œâ”€â”€ my_textfield.dart        â†’ Custom input field
            â””â”€â”€ loading.dart             â†’ Loading widget
```

### Speech Recognition Files:
```
lib/features/speech_to_text/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/speech_result.dart      â†’ Result entity
â”‚   â””â”€â”€ repos/speech_recognition_repo.dart â†’ Repository interface
â”œâ”€â”€ data/
â”‚   â””â”€â”€ speech_recognition_repo_impl.dart â†’ SDK implementation
â””â”€â”€ presentation/
    â”œâ”€â”€ cubits/
    â”‚   â”œâ”€â”€ speech_recognition_cubit.dart â†’ State management
    â”‚   â””â”€â”€ speech_recognition_state.dart â†’ State definitions
    â””â”€â”€ pages/
        â”œâ”€â”€ speech_recognition_page.dart  â†’ Main page
        â”œâ”€â”€ speech_result_view_page.dart  â†’ Results page
        â””â”€â”€ components/
            â”œâ”€â”€ microphone_button.dart    â†’ Mic button widget
            â”œâ”€â”€ listening_indicator.dart  â†’ Visual feedback
            â””â”€â”€ speech_result_display.dart â†’ Result display
```

### Core Files:
```
lib/
â”œâ”€â”€ main.dart                            â†’ App entry point
â”œâ”€â”€ firebase_options.dart                â†’ Firebase config
â”œâ”€â”€ constants/systems_design.dart        â†’ Design system
â””â”€â”€ theme/
    â”œâ”€â”€ light_mode.dart                  â†’ Light theme
    â””â”€â”€ dark_mode.dart                   â†’ Dark theme
```

---

## 7. STATE MANAGEMENT FLOW

```
User Action (UI Event)
    â†“
Widget calls Cubit method
    â†“
Cubit emits Loading state
    â†“
Cubit calls Repository
    â†“
Repository calls External Service (Firebase/SpeechToText)
    â†“
Service returns result/error
    â†“
Repository transforms to Domain Entity
    â†“
Cubit receives result
    â†“
Cubit emits Success/Error state
    â†“
BlocBuilder/BlocListener rebuilds UI
    â†“
User sees updated UI
```

---

## Káº¾T LUáº¬N

á»¨ng dá»¥ng Sign Language App sá»­ dá»¥ng **Clean Architecture** vá»›i **BLoC pattern** Ä‘á»ƒ quáº£n lÃ½ state. Má»—i chá»©c nÄƒng Ä‘Æ°á»£c tá»• chá»©c thÃ nh 3 layer riÃªng biá»‡t (Domain, Data, Presentation), giÃºp code dá»… maintain, test vÃ  má»Ÿ rá»™ng.

**Luá»“ng chÃ­nh:**
1. User tÆ°Æ¡ng tÃ¡c vá»›i UI (Presentation)
2. UI gá»i Cubit methods
3. Cubit gá»i Repository (Domain interface)
4. Repository implementation gá»i External Services (Data)
5. Káº¿t quáº£ Ä‘Æ°á»£c transform thÃ nh Entities vÃ  emit states
6. UI tá»± Ä‘á»™ng cáº­p nháº­t theo states má»›i

Cáº¥u trÃºc nÃ y Ä‘áº£m báº£o **separation of concerns**, **testability** vÃ  **scalability** cho dá»± Ã¡n.
